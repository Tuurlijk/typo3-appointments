<html data-namespace-typo3-fluid="true"
	xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	xmlns:a="http://typo3.org/ns/Innologi/Appointments/ViewHelpers">
	
<f:if condition="{formField}">
	<div class="formfield-wrap{f:if(condition:formField.enableField,then:' enablefield eval-f{formField.enableField.uid}-{formField.enableValue}')}">
		<label>
			{formField.label}
			
			<f:if condition="{formFieldValue.uid}">
				<f:then>
					<f:form.hidden property="formFieldValues.i{formField.uid}.__identity" value="{formFieldValue.uid}" />
				</f:then>
				<f:else>
					<f:form.hidden property="formFieldValues.i{formField.uid}.formField" value="{formField}" />
				</f:else>
			</f:if>
		
			<f:switch expression="{formField.fieldType}">
				<f:case value="1"> <!-- Boolean / Checkbox -->
					<f:form.checkbox
						id="appointments-formfield-{formField.uid}"
						property="formFieldValues.i{formField.uid}.value"
						value="1"
						checked="{formFieldValue.value} == 1"
						class="formfield-id-{formField.uid} checkbox session"
					/>
				</f:case>
				<f:case value="2">  <!-- Select -->
					<f:if condition="{formField.validationTypes}">
						<span class="required">*</span>
					</f:if>
					<br />
					<a:form.select
						id="appointments-formfield-{formField.uid}"
						property="formFieldValues.i{formField.uid}.value"
						options="{formField.choicesArray}"
						value="{formFieldValue.value}"
						class="formfield-id-{formField.uid} select session"
					/>
				</f:case>
				<f:case value="3"> <!-- Textsmall / Input -->
					<f:if condition="{formField.validationTypes}">
						<span class="required">*</span>
					</f:if>
					<br />
					<!-- @TODO use data attributes instead, once I can go HTML5-only -->
					<a:form.textfield
						id="appointments-formfield-{formField.uid}"
						property="formFieldValues.i{formField.uid}.value"
						value="{formFieldValue.value}"
						class="formfield-id-{formField.uid} textinput{f:if(condition:formField.isDate,then:' datepicker')} session"
						required="{f:if(condition:formField.validationTypes,then:1)}"
						realPlaceholder="{f:if(condition:formField.isDate,then:'dd-mm-jjjj')}"
					/>
				</f:case>
				<f:case value="4"> <!-- Textlarge / Textarea -->
					<f:if condition="{formField.validationTypes}">
						<span class="required">*</span>
					</f:if>
					<br />
					<a:form.textarea
						id="appointments-formfield-{formField.uid}"
						property="formFieldValues.i{formField.uid}.value"
						value="{formFieldValue.value}"
						cols="40" rows="15"
						class="formfield-id-{formField.uid} session"
					/>
				</f:case>
				<f:case value="5">  <!-- Radio -->
					<f:if condition="{formField.validationTypes}">
						<span class="required">*</span>
					</f:if>
					<br />
					<f:for each="{formField.choicesArray}" as="choiceValue" key="choiceKey" iteration="choiceIterator">
						<a:form.radio
							id="appointments-formfield-{formField.uid}-{choiceIterator.index}"
							property="formFieldValues.i{formField.uid}.value"
							value="{choiceKey}"
							checked="{0:formFieldValue.value} == {0:choiceKey}"
							class="formfield-id-{formField.uid} radio session"
						/>
						{choiceValue}
					</f:for>
				</f:case>
			</f:switch>
		</label>
		
		<f:if condition="{formField.csh}">
			<span class="csh" title="{formField.csh}"><f:translate key="tx_appointments_list.csh" /></span>
		</f:if>
	</div>
</f:if>

</html>